from Robotic_Arm.rm_robot_interface import *
import numpy as np

# 实例化RoboticArm类
arm = RoboticArm(rm_thread_mode_e.RM_TRIPLE_MODE_E)
# 创建机械臂连接，打印连接id

handle = arm.rm_create_robot_arm("169.254.128.19", 8080)
print(handle.id)


trajectory0=[[-118.5634,  -73.1978,  146.8190,    1.6632, -164.1376,  -87.3668,
          103.8620,   57.2961],
        [-119.0524,  -72.8811,  146.6105,    1.1794, -164.8380,  -87.2900,
           99.7493,   56.9893],
        [-118.1396,  -73.0929,  145.3657,    0.5450, -164.1636,  -86.7585,
          100.8142,   56.9864],
        [-118.5037,  -74.7102,  145.4178,    1.8975, -164.1837,  -85.3478,
          102.9108,   57.2319],
        [-118.3346,  -73.9987,  145.8869,    2.0361, -164.3787,  -84.5977,
          101.5948,   57.2961],
        [-118.1153,  -74.5623,  145.8474,    1.9289, -164.4093,  -83.5217,
           99.4968,   56.8927],
        [-118.1833,  -75.7330,  145.5793,    1.2736, -164.3310,  -83.5320,
           98.9859,   57.2961],
        [-118.2582,  -76.1181,  146.0489,    2.3790, -164.0397,  -82.4147,
          100.8256,   57.2264],
        [-118.0287,  -76.3849,  145.8884,    3.3071, -163.8906,  -81.0489,
          100.4790,   57.1693],
        [-117.1852,  -76.7215,  145.3485,    5.2468, -164.0675,  -79.2296,
          100.0158,   57.2307],
        [-117.3494,  -77.1717,  145.4285,    4.9843, -164.0354,  -78.6403,
          100.2173,   57.2009],
        [-116.3301,  -77.6423,  145.2684,    7.9562, -163.7335,  -75.2104,
           97.2080,   57.0985],
        [-116.8318,  -76.8297,  146.9455,   10.6880, -163.0517,  -74.0748,
           98.8936,   57.2961],
        [-115.6343,  -78.6867,  144.6561,    9.7755, -163.5584,  -71.8738,
           94.7675,   57.2961],
        [-115.6229,  -79.1889,  143.6449,    7.9899, -163.1218,  -73.8181,
           98.1738,   57.1770],
        [-116.3219,  -80.1485,  145.3978,    6.4716, -163.3817,  -73.7190,
           97.4940,   57.1826]]

for res in trajectory0:

    # 关节阻塞运动到[-114.4785,  -83.8620,  143.5297,    4.4633, -164.5899,  -76.9528,
    #       93.2380]，速度20， 加速度0，时间0， 阻塞模式1
    # for i in range(len(res)):
    #     res[i] = res[i] * 180 / np.pi
    # print("res:", res)
    arm.rm_movej(res[:7], 10, 0, 0, 1)
    break

arm.rm_set_gripper_position(1000, True, 10)


arm.rm_delete_robot_arm()
